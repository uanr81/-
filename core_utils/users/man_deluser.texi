
DELUSER(8)                       System Manager's Manual                       DELUSER(8)

NAME
       deluser, delgroup - удаляют пользователя или группу из системы

СИНТАКСИС
       deluser  [параметры]  [--force]  [--remove-home]  [--remove-all-files]  [--backup]
       [--backup-to КАТ] пользователь

       deluser --group [параметры] группа
       delgroup [параметры] [--only-if-empty] группа

       deluser [параметры] пользователь группа

   ОБЩИЕ ПАРАМЕТРЫ
       [--quiet] [--system] [--help] [--version] [--conf ФАЙЛ]

ОПИСАНИЕ
       deluser  и  delgroup  удаляют  пользователей  и  группы  из  системы,  исходя   из
       параметров,  заданных  в командной строке и информации из файла /etc/deluser.conf.
       Они являются дружественными интерфейсами к программам userdel и groupdel,  удаляют
       домашний  каталог  или  даже  все  файлы  из  системы, принадлежащие пользователю,
       запускают определённый  сценарий  и  обладают  другими  возможностями.  deluser  и
       delgroup могут быть запущены в одном из трёх режимов:

   Удаление обычного пользователя
       При  запуске  с параметром, не имеющим аргументов и без параметра --group, deluser
       удалит обычного пользователя.

       По умолчанию, deluser удаляет пользователя  без  уничтожения  домашнего  каталога,
       почтового ящика или всех файлов системы, принадлежащих данному пользователю. Чтобы
       домашний каталог и почтовый ящик удалялся, можно указать параметр --remove-home.

       С параметром  --remove-all-files  удаляются  все  файл  в  системе,  принадлежащие
       данному  пользователю. Заметим, что в этом случае указывать параметр --remove-home
       необязательно, так как все файлы, включая домашний каталог  и  почтовый  ящик  уже
       помечены на удаление параметром --remove-all-files.

       Если  вы  хотите  сделать  резервную  копию  всех файлов перед их удалением, то вы
       можете   указать   параметр   --backup,   при   котором    будет    создан    файл
       имя_пользователя.tar(.gz|.bz2),  в  каталоге,  заданном параметром --backup-to (по
       умолчанию используется текущий рабочий каталог). Параметры удаления  и  резервного
       копирования  также  можно  задать  как  действия  по  умолчанию  в файле настройки
       /etc/deluser.conf. Подробней смотрите deluser.conf(5).

       Если вы хотите удалить учётную запись  root  (uid  0),  воспользуйтесь  параметром
       --force;  его  указание  подтверждает,  что удаление пользователя root не является
       случайной ошибкой.

       Если файл /usr/local/sbin/deluser.local существует, то  он  будет  выполнен  после
       удаления  учётной  записи  пользователя,  чтобы  выполнить  все локальные очистки.
       Аргументы, передаваемые deluser.local:
       имя_пользователя uid gid домашний_каталог

   Удалить группу
       Если deluser вызывается с параметром --group,  или  вызывается  как  delgroup,  то
       выполняется удаление группы.

       Предупреждение: Первичная группа существующего пользователя не может быть удалена.

       Если  задан  параметр  --only-if-empty,  удаление группы не произойдёт, если в неё
       входят пользователи.

   Удаление пользователя из определённой группы
       При запуске с двумя параметрами без аргументов, deluser  удаляет  пользователя  из
       указанной группы.

ПАРАМЕТРЫ
       --conf ФАЙЛ
              Использовать   ФАЙЛ   вместо   файлов   по  умолчанию  /etc/deluser.conf  и
              /etc/adduser.conf

       --group
              Удалить  группу.  Это  является  действием  по  умолчанию,  если  программа
              вызывается как delgroup.

       --help Показать краткую инструкцию.

       --quiet
              Не выводить сообщения о ходе работы.

       --system
              Выполнить  удаление,  только  если пользователь/группа являются системными.
              Это помогает избежать случайного удаления не системной группы/пользователя.
              Также, если пользователь не существует, то значение ошибки не возвращается.
              Этот параметр чаще всего используется  в  сценариях  сопровождения  пакетов
              Debian.

       --backup
              Выполнить  резервное копирования всех файлов домашнего каталога и хранилище
              почты (mailspool-file) в файл с именем /$user.tar.bz2 или /$user.tar.gz.

       --backup-to
              Помещать файлы  резервных  копий  не  в  /,  а  в  каталог,  заданный  этим
              параметром. Подразумевает также задание параметра --backup.

       --remove-home
              Удалить  домашний  каталог  пользователя и его хранилище почты. Если указан
              --backup, то файлы будут удалены после создания резервной копии.

       --remove-all-files
              Удалить все файлы из системы, принадлежащие этому пользователю.  Замечание:
              указание  --remove-home  не  имеет  смысла.  Если указан --backup, то файлы
              будут удалены после создания резервной копии.

       --version
              Показать номер версии и информацию об авторском праве.

ВОЗВРАЩАЕМОЕ ЗНАЧЕНИЕ
       0      Действие успешно выполнено.

       1      Удаляемый пользователь не является системным. Действие не выполнено.

       2      Пользователь не существует. Действие не выполнено.

       3      Группа не существует. Действие не выполнено.

       4      Внутренняя ошибка. Действие не выполнено.

       5      Удаляемая группа не пуста. Действие не выполнено.

       6      Пользователь не принадлежит указанной группе. Действие не выполнено.

       7      Нельзя удалить пользователя из его первичной группы. Действие не выполнено.

       8      Требуемый perl-пакет 'perl modules' не установлен. Этот пакет требуется для
              выполнения некоторых действий. Действие не выполнено.

       9      Для  удаления  учётной  записи root требуется указание параметра "--force".
              Действие не было выполнено.

ФАЙЛЫ
       /etc/deluser.conf

СМОТРИТЕ ТАКЖЕ
       deluser.conf(5), adduser(8), userdel(8), groupdel(8)

АВТОРСКОЕ ПРАВО
       Copyright (C) 2000 Roland Bauerschmidt. Изменения (C) 2004  Marc  Haber.  и  Joerg
       Hoh. Эта справочная страница и программа deluser основаны на adduser, которая:
       Copyright (C) 1997, 1998, 1999 Guy Maor.
       Copyright  (C)  1995 Ted Hajek, с большими заимствованиями из оригинального Debian
       adduser
       Copyright (C) 1994  Ian  Murdock.  deluser  это  свободное  ПО;  смотрите  условия
       копирования в Универсальной Общественной Лицензии GNU версии 2 или более новой. Не
       предоставляется никаких гарантий.

Debian GNU/Linux                 Версия 3.113+nmu3ubuntu4                      DELUSER(8)
