
ADDUSER(8)                       System Manager's Manual                       ADDUSER(8)

NAME
       adduser, addgroup - добавляют пользователя или группу в систему

СИНТАКСИС
       adduser  [options]  [--home  DIR]  [--shell  SHELL]  [--no-create-home] [--uid ID]
       [--firstuid ID] [--lastuid ID] [--ingroup GROUP | --gid ID]  [--disabled-password]
       [--disabled-login] [--gecos GECOS] [--add_extra_groups] [--encrypt-home] user

       adduser  --system  [параметры]  [--home КАТ] [--shell ОБОЛОЧКА] [--no-create-home]
       [--uid  ID]  [--group  |  --ingroup  ГРУППА  |  --gid  ID]   [--disabled-password]
       [--disabled-login] [--gecos GECOS] пользователь

       addgroup [параметры] [--gid ID] группа

       addgroup --system [параметры] [--gid ID] группа

       adduser [параметры] пользователь группа

   ОБЩИЕ ПАРАМЕТРЫ
       [--quiet] [--debug] [--force-badname] [--help|-h] [--version] [--conf ФАЙЛ]

ОПИСАНИЕ
       adduser  и  addgroup  добавляют  пользователей  и  группы  в  систему,  исходя  из
       параметров, заданных в командной строке и информации из  файла  /etc/adduser.conf.
       Они являются дружественными интерфейсами к программам groupadd и usermod, выбирают
       согласованные с политикой Debian значения UID и GID, создают  домашний  каталог  с
       начальными  настройками,  запускают  определённый  сценарий,  и  обладают  другими
       возможностями. adduser и addgroup могут быть запущены в одном из пяти режимов:

   Добавление обычного пользователя
       При запуске с двумя аргументами и без параметров  --system  или  --group,  adduser
       добавляет обычного пользователя.

       adduser выберет первый доступный UID из диапазона обычных пользователей, заданного
       в файле настройки.  UID может быть изменён с помощью параметра --uid.

       Диапазон, задаваемый файлом настройки, может быть  изменён  с  помощью  параметров
       --firstuid и --lastuid.

       По  умолчанию,  каждый  пользователь  в  Debian GNU/Linux входит в соответствующую
       группу с тем же именем. Объединение пользователей  в  группы  позволяет  групповую
       запись  в  каталог,  что  легко  достигается посредством помещения соответствующих
       пользователей в новую группу, установкой set-group-ID бита на каталог и  проверкой
       того, что все пользователи используют значение umask со значением 002. Если данную
       возможность  выключить,  задав  параметру  USERGROUPS  значение  no,  то  все  GID
       пользователей  будут  устанавливаться  в USERS_GID. Первичные группы пользователей
       также могут быть изменены из командной  строки  с  помощью  параметров  --gid  или
       --ingroup,  которые  задают  группу  по  id  или  по имени, соответственно. Также,
       пользователей можно добавить в одну или более  групп,  указанных  в  adduser.conf,
       установкой ADD_EXTRA_GROUPS равной 1 в adduser.conf, или указав --add_extra_groups
       в командной строке.

       adduser создаёт домашний каталог в соответствии со значениями DHOME, GROUPHOMES  и
       LETTERHOMES.  Домашний  каталог  может  быть изменён из командной строки с помощью
       параметра  --home,  а  оболочка  с   помощью   --shell.   На   домашнем   каталоге
       устанавливается  Set-group-ID  бит,  если  USERGROUPS  равно  yes, и поэтому любые
       файлы, создаваемые  в  домашнем  каталоге  пользователя,  будут  иметь  правильную
       группу.

       adduser  скопирует файлы из SKEL в домашний каталог и запросит информацию о
       finger (gecos) и пароль. Gecos также может быть установлен с опцией --gecos.
       С опцией --disabled-login учетная запись будет создана, но будет отключена,
       пока не будет установлен пароль. Параметр --disabled-password не устанавливает
       пароль, но вход в систему все еще возможен (например, с помощью ключей SSH RSA).
       Чтобы настроить зашифрованный домашний каталог для нового пользователя, добавьте
       параметр --encrypt-home. Для получения дополнительной информации обратитесь к
       опции -b ecryptfs-setup-private(1).

       Если  файл  /usr/local/sbin/adduser.local  существует,  то он будет выполнен после
       создания учётной записи пользователя, чтобы  выполнить  все  локальные  настройки.
       Аргументы передаваемые adduser.local:
       имя_пользователя uid gid домашний_каталог
       Значение переменной среды VERBOSE устанавливается по следующему правилу:

       0, если указан --quiet

       1, если не указан --quiet или --debug

       2, если указан --debug

              (Это  же  правило  применяется  к  переменной  DEBUG,  но  DEBUG  лучше  не
              использовать, так как она будет удалена в следующей версии adduser.)

   Добавление системного пользователя
       При запуске с одним параметром  без  аргументов  и  параметром  --system,  adduser
       добавляет   системного  пользователя.  Если  пользователь  с  тем  же  именем  уже
       существует в диапазоне системных uid (или, если задан  uid,  если  пользователь  с
       таким  uid  уже существует), то adduser завершает работу с выдачей предупреждения.
       Это предупреждение отключить указав параметр «--quiet».

       adduser  выберет  первый  доступный  UID  из  диапазона  системных  пользователей,
       заданного  в  файле настройки (FIRST_SYSTEM_UID и LAST_SYSTEM_UID). Если вы хотите
       какой-то определённый UID, то можете указать его с помощью параметра --uid.

       По умолчанию, системные пользователи помещаются в группу nogroup. Чтобы  поместить
       нового  системного  пользователя  в уже существующую группу, используйте параметры
       --gid или --ingroup. Чтобы поместить нового системного пользователя в новую группу
       с тем же ID, используйте параметр --group.

       Домашний  каталог  создаётся  по  тем же правилам что и для обычных пользователей.
       Новый системный пользователь имеет оболочку /bin/false (если  не  указан  параметр
       --shell) и заблокированный пароль. Начальные файлы настроек не копируются.

   Добавление пользовательской группы
       Если  adduser  вызывается  с параметром --group и без параметра --system или имеет
       соответствующее название addgroup, то добавляется пользовательская группа.

       GID  будет  выбран  из  диапазона  системных  GID,  заданных  в  файле   настройки
       (FIRST_GID, LAST_GID). Чтобы указать определённый GID, используйте параметр --gid.

       Группа создаётся без пользователей.

   Добавление системной группы
       Если addgroup вызывается с параметром --system, то добавляется системная группа.

       GID   будет  выбран  из  диапазона  системных  GID,  заданных  в  файле  настройки
       (FIRST_SYSTEM_GID, LAST_SYSTEM_GID). Чтобы указать определённый  GID,  используйте
       параметр --gid.

       Группа создаётся без пользователей.

   Добавление существующего пользователя в существующую группу
       При  запуске  с  двумя аргументами, adduser добавляет существующего пользователя в
       существующую группу.

ПАРАМЕТРЫ
       --conf ФАЙЛ
              Использовать ФАЙЛ вместо /etc/adduser.conf.

       --disabled-login
              Не запускать passwd для задания пароля. Пользователь не сможет использовать
              свою учётную запись, пока его пароль не установлен.

       --disabled-password
              То  же  что  и  --disabled-login,  но  вход  в систему возможен(например, с
              помощью ключей SSH RSA), но не использующих парольную аутентификацию.

       --force-badname
              По умолчанию имена пользователей и групп проверяются по настраиваемому
	      регулярному выражению NAME_REGEX (или NAME_REGEX_SYSTEM, если указан
	      --system), указанному в файле конфигурации. Эта опция заставляет adduser
	      и addgroup применять только слабую проверку на достоверность имени.

       --gecos GECOS
              Задаёт   поле   gecos  для  новой  создаваемой  записи.  adduser  не  будет
              запрашивать информацию finger, если указан этот параметр.

       --gid ID
              При создании группы этот параметр задает  её  идентификатор.  При  создании
              пользователя этот параметр помещает пользователя в группу с этим номером.

       --group
              При совместном использовании с --system, создаётся группа с тем же именем и
              ID как и  у  системного  пользователя.  Если  же  --system  не  задана,  то
              создаётся  группа  с указанным именем. Это является действием по умолчанию,
              если программа вызывается как addgroup.

       --help Показать краткую инструкцию.

       --home КАТ
              Использовать КАТ в качестве  домашнего  каталога  пользователя,  а  не  как
              задаётся  по умолчанию в файле настроек.  Если каталог не существует, то он
              будет создан и будут скопированы начальные файлы настроек.

       --shell ОБОЛОЧКА
              Использовать ОБОЛОЧКУ в качестве регистрационной оболочки, а не как  задано
              по умолчанию в файле настроек.

       --ingroup ГРУППА
              Добавить  нового  пользователя  в ГРУППУ, а не в группу с тем же именем или
              группу по умолчанию, определяемую USERS_GID в файле настройки.  Это  влияет
              на  первичную  группу  пользователей.  Для  указания  дополнительных групп,
              смотрите описание параметра add_extra_groups.

       --no-create-home
              Не создавать домашний каталог, даже если он не существует.

       --quiet
              Не выводить информационные сообщения, показывать  только  предупреждения  и
              ошибки.

       --debug
              Показывать  отладочную  информацию,  очень полезно, если вы хотите понять в
              чём проблема у adduser.

       --system
              Создать системного пользователя или группу.

       --uid ID
              Принудительно назначить новому userid заданный номер. adduser завершится  с
              ошибкой, если такой userid уже используется.

       --firstuid ID
              Изменить  первый  uid  диапазона,  из  которого выбран данный uid (заменяет
              значение FIRST_UID, указанное в конфигурационном файле).

       --lastuid ID
              Изменить последний uid диапазона, из которого выбран данный uid (  LAST_UID
              )

       --add_extra_groups
              Добавить  нового  пользователя  в  дополнительные группы, указанные в файле
              настройки.

       --version
              Показать номер версии и информацию об авторском праве.

ВОЗВРАЩАЕМЫЕ ЗНАЧЕНИЯ
       0      Указанный пользователь существует. Возникает в 2 случаях: пользователь  был
              создан  adduser или пользователь уже был в системе перед тем как вызывалась
              adduser. Запуск adduser второй раз с теми же параметрами также вернёт 0.

       1      Не удалось создать пользователя или группу, так как они уже существуют но с
              другими  UID/GID, чем указано. Имя пользователя или группы было отвергнуто,
              так  как  не  подпадает  под  настроенные   регулярные   выражения,смотрите
              adduser.conf(5). Работа adduser был прервана сигналом.
              Или   по  многим  другим  ещё  неописанным  причинам,  которые  объясняются
              выдаваемыми на консоль сообщениями. Затем вы можете  решить  решить  убрать
              параметр --quiet, что сделает вывод adduser более подробным.

ФАЙЛЫ
       /etc/adduser.conf
              Файл настройки по умолчанию для adduser и addgroup

СМОТРИТЕ ТАКЖЕ
       adduser.conf(5),  deluser(8),  useradd(8),  groupadd(8), usermod(8), Debian Policy
       9.2.2.

АВТОРСКОЕ ПРАВО
       Copyright (C) 1997, 1998, 1999 Guy Maor. Изменения  Рональда  Бауэршмитта  (Roland
       Bauerschmidt)  и  Марка  Хабера (Marc Haber). Дополнительные изменения Джорга Хоха
       (Joerg Hoh) и Стефена Грана (Stephen Gran).
       Copyright (C) 1995 Ted Hajek, с большими заимствованиями из  оригинального  Debian
       adduser
       Copyright  (C)  1994  Ian  Murdock.  adduser  это  свободное  ПО; смотрите условия
       копирования в Универсальной Общественной Лицензии GNU версии 2  или  более  новой.
       Не предоставляется никаких гарантий.

Debian GNU/Linux                 Версия 3.113+nmu3ubuntu4                      ADDUSER(8)
