<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Терминология</TITLE
><META http-equiv="Content-Type" content="text/html; charset=koi8-r"><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Linux Advanced Routing &#38; Traffic Control HOWTO"
HREF="index.html"><LINK
REL="UP"
TITLE="Дисциплины обработки очередей для управления пропускной способностью"
HREF="c834.html"><LINK
REL="PREVIOUS"
TITLE="Какие типы дисциплин нужно использовать."
HREF="x991.html"><LINK
REL="NEXT"
TITLE="Классовые дисциплины обработки очередей."
HREF="x1075.html"><style type="text/css"> p {text-align:justify;} </style></HEAD
><BODY
CLASS="SECTION"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux Advanced Routing &#38; Traffic Control HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x991.html"
ACCESSKEY="P"
>Назад</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Глава 9. Дисциплины обработки очередей для управления пропускной способностью</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x1075.html"
ACCESSKEY="N"
>Вперед</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECTION"
><H1
CLASS="SECTION"
><A
NAME="TERMINOLOGY"
></A
>9.4. Терминология</H1
><P
>      Прежде чем приступить к обсуждению более сложных тем, считаю своим долгом дать описание некоторых основных 
      понятий, поскольку из-за сложности и относительной новизны, разные разработчики обозначают одни и те же 
      понятия различными терминами.
    </P
><P
>      Следующие описания являются вольной трактовкой документа 
      <TT
CLASS="FILENAME"
>draft-ietf-diffserv-model-06.txt</TT
> -- <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>An Informal Management Model for 
      Diffserv Routers</I
></SPAN
> (Неформальная Модель Управления для Маршрутизаторов, работающих под управлением 
      Diffserv). Этот документ находится по адресу:
      <A
HREF="http://www.ietf.org/internet-drafts/draft-ietf-diffserv-model-06.txt"
TARGET="_top"
>      http://www.ietf.org/internet-drafts/draft-ietf-diffserv-model-06.txt</A
>
      В нем вы найдете строгие определения используемых терминов.
      
  <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>Queueing Discipline (qdisc)</DT
><DD
><P
>          Алгоритм управления очередью устройства, как входящей (ingress), так и исходящей (egress).
        </P
></DD
><DT
>root qdisc</DT
><DD
><P
>          Корневая дисциплина организации очереди (qdisc), т.е. дисциплина применяемая к устройству.
        </P
></DD
><DT
>Classless qdisc</DT
><DD
><P
>          Бесклассовая дисциплина организации очереди -- дисциплина, которая воздействует на устройство целиком,
          без возможности классификации трафика.
        </P
></DD
><DT
>Classful qdisc</DT
><DD
><P
>          Полноклассовая дисциплина организации очереди (qdisc). Может содержать множество классов и других 
          дисциплин, которые в свою очередь могут являться полноклассовыми. Согласно этому определению,
          дисциплина pfifo_fast -- полноклассовая, поскольку она содержит три полосы пропускания, которые 
          фактически являются классами. Однако, с точки зрения пользователя (администратора сети), она является
          бесклассовой, так как принцип действия этих классов не может быть изменен с помощью утилиты
          <B
CLASS="COMMAND"
>tc</B
>.
        </P
></DD
><DT
>Classes</DT
><DD
><P
>          Классы. Полноклассовые дисциплины организации очереди могут состоять из множества классов, каждый из 
          которых является внутренним, по отношению к данной дисциплине. В свою очередь, классы так же могут
          содержать другие классы. Таким образом, класс может иметь, в качестве "родительского", другой класс или
          дисциплину. Краевой класс -- это класс, который не имеет вложенных классов. Такой класс имеет 
          единственную,
          присоединенную к нему, дисциплину организации очереди. Эта дисциплина отвечает за передачу данных из
          этого класса. При создании класса, к нему по-умолчанию присоединяется дисциплина fifo. При добавлении
          вложенноного класса, дисциплина удаляется. Для краевых классов, созданная по-умолчанию дисциплина fifo
          может быть заменена на более подходящую вашим требованиям, вплоть до того, что можно назначить 
          полноклассовую дисциплину, с набором своих внутренних классов!
        </P
></DD
><DT
>Classifier</DT
><DD
><P
>          Классификатор. Каждая полноклассовая дисциплина должна "разбить" трафик по классам. Выполняется это
          с помощью классификаторов.
        </P
></DD
><DT
>Filter</DT
><DD
><P
>          Фильтр. Классификация может выполняться и с помощью фильтров. Фильтры представляют собой ряд условий,
          благодаря которым выясняется -- подпадает ли тот или иной пакет под действие фильтра.
        </P
></DD
><DT
>Scheduling</DT
><DD
><P
>          Планирование. Дисциплины, с помощью классификаторов, могут изменять порядок прохождения пакетов.
          Процесс переупорядочивания называется Планированием. К слову, дисциплина pfifo_fast, упоминавшаяся выше,
          производит планирование.
        </P
></DD
><DT
>Shaping</DT
><DD
><P
>          Шейпинг (формирование). Под этим термином подразумевается процесс задержки пакетов, с целью ограничения
          пропускной способности канала. Шейпинг выполняется на исходящих очередях. Сброс отдельных пакетов, с 
          целью снижения пропускной способности, так же иногда называют Шейпингом.
        </P
></DD
><DT
>Policing</DT
><DD
><P
>          Ограничение. Под этим термином подразумевается процесс задержки или сброса (умышленной потери) пакетов,
          с целью ограничения пропускной способности. В Linux под термином Policing подразумевается только сброс 
          пакетов, если ограничение накладывается не на входящую очередь.
        </P
></DD
><DT
>Work-Conserving</DT
><DD
><P
>          Под этим термином подразумеваются такие дисциплины, которые всегда передают пакет без задержки дальше, 
          если он поступил на обработку. Другими словами, эти дисциплины никогда не выполняют задержку
          пакетов, если устройство готово отправить его (в случае исходящей дисциплины).
        </P
></DD
><DT
>non-Work-Conserving</DT
><DD
><P
>          Некоторые виды дисциплин, например Token Bucket Filter, могут выполнять задержку пакетов на некоторое
          время, с целью ограничения пропускной способности. Это означает, что пакеты могут быть задержаны,
          даже не смотря на то, что устройство готово к передаче.
        </P
></DD
></DL
></DIV
>

      Теперь, когда мы определились с терминологией, рассмотрим все вышесказанное на следующей диаграмме:
      <PRE
CLASS="SCREEN"
>         Пользовательские программы
                     ^
                     |
     +---------------+-----------------------------------------+
     |               Y                                         |
     |    -------&#62; IP Stack                                    |
     |   |              |                                      |
     |   |              Y                                      |
     |   |              Y                                      |
     |   ^              |                                      |
     |   |  / ----------&#62; Forwarding -&#62;                        |
     |   ^ /                           |                       |
     |   |/                            Y                       |
     |   |                             |                       |
     |   ^                             Y          /-qdisc1-\   |
     |   |                         Исходящий     /--qdisc2--\  |
  ---&#62;-&#62;Входящая                   Классификатор ---qdisc3---- | -&#62;
     |  Дисциплина                               \--qdisc4--/  |
     |                                            \-qdiscN-/   |
     |                                                         |
     +----------------------------------------------------------+      
      </PRE
>
      
      Большой объемлющий блок, на диаграмме, представляет собой ядро. Стрелка слева показывает входящий трафик.
      Он подается во входящую дисциплину, которая может содержать ряд фильтров, посредством которых отдельные 
      пакеты могут быть отброшены (потеряны, отфильтрованы). Это называется Ограничением (Policing).
    </P
><P
>      Все это происходит на самой ранней стадии, прежде чем пакет будет передан для дальнейшей обработки.
      Таким образом достигается уменьшение нагрузки на центральный процессор.
    </P
><P
>      Если пакет благополучно миновал эту стадию, то далее он может быть передан либо локальным приложениям
      (в этом случае он попадает в стек IP для дальнейшей обработки), либо в сеть, через исходящий
      классификатор, на другой узел сети. Пользовательские приложения так же могут отправлять данные в сеть, 
      которые аналогичным образом движутся через исходящий классификатор. Исходящий классификатор "разбивает"
      трафик по очередям, каждая из которых имеет свою дисциплину организации. В случае конфигурации по-умолчанию
      имеется единственная исходящая очередь -- pfifo_fast. Этот процесс называется "постановкой в очередь".
    </P
><P
>      Попав в соответствующую очередь, пакет ожидает, пока ядро передаст его сетевому интерфейсу. Этот процесс
      называется "выборка из очереди".
    </P
><P
>      Эта диаграмма годится и для случая с одним сетевым интерфейсом -- не следует рассматривать
      стрелки на ней слишком буквально.
    </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x991.html"
ACCESSKEY="P"
>Назад</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>В начало документа</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x1075.html"
ACCESSKEY="N"
>Вперед</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Какие типы дисциплин нужно использовать.</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c834.html"
ACCESSKEY="U"
>К началу раздела</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Классовые дисциплины обработки очередей.</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>