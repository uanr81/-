SSH-ADD(1)                BSD General Commands Manual               SSH-ADD(1)

NAME
     ssh-add — добавляет личный ключ к агенту аутентификации

SYNOPSIS
     ssh-add [-cDdkLlXx] [-E fingerprint_hash] [-t life] [file ...]
     ssh-add -s pkcs11
     ssh-add -e pkcs11

DESCRIPTION
     ssh-add добавляет личный ключ к агенту аутентификации ssh-agent(1). При запуске
     без аргументов он добавляет файлы ~/.ssh/id_rsa, ~/.ssh/id_dsa, ~/.ssh/id_ecdsa,
     ~/.ssh/id_ed25519 и ~/.ssh/identity. После загрузки закрытого ключа ssh-add
     попытается загрузить соответствующую информацию сертификата из имени файла,
     полученного путем добавления -cert.pub к имени файла закрытого ключа. Альтернативные
     имена файлов могут быть указаны в командной строке.

     Если какой-либо файл требует парольную фразу, ssh-add запрашивает парольную фразу
     от пользователя. Парольная фраза читается из tty пользователя. ssh-add повторяет
     последнюю фразу-пароль, если задано несколько файлов идентификации.

     Агент аутентификации должен быть запущен, а переменная окружения SSH_AUTH_SOCK
     должна содержать имя своего сокета, чтобы ssh-add мог работать.

     Возможны следующие варианты:

     -c
             Указывает, что добавленные идентификаторы должны быть подтверждены перед
             использованием для аутентификации. Подтверждение выполняется с помощью
             ssh-askpass(1). Успешное подтверждение сигнализируется нулевым статусом
             выхода из ssh-askpass(1), а не текстом, введенным в запрашивающую сторону.

     -D
             Удаляет все удостоверения от агента.

     -d
             Вместо добавления идентификаторов удаляет идентификаторы из агента. Если
             ssh-add был запущен без аргументов, ключи для идентификаторов по умолчанию и
             соответствующие им сертификаты будут удалены. В противном случае список
             аргументов будет интерпретирован как список путей к файлам с открытым ключом
             для указания ключей и сертификатов, которые необходимо удалить из агента.
             Если по указанному пути открытый ключ не найден, ssh-add добавит .pub и
             повторит попытку.

     -E fingerprint_hash
             Определяет алгоритм хеширования, используемый при отображении отпечатков
             клавиш. Допустимые варианты: “md5” и “sha256”. По умолчанию используется
             “sha256”.

     -e pkcs11
             Удалить ключи, предоставляемые общей библиотекой PKCS#11 pkcs11.

     -k
             При загрузке ключей или удалении ключей из агента обрабатывайте только
             простые личные ключи и пропускайте сертификаты.

     -L
             Перечисляет параметры открытого ключа всех идентификаторов, представленных
             в настоящее время агентом.

     -l
             Перечисляет отпечатки всех идентификаторов, представленных в
             настоящее время агентом.

     -s pkcs11
             Добавьте ключи, предоставляемые общей библиотекой PKCS#11 pkcs11.

     -t life
             Установите максимальное время жизни при добавлении идентификаторов агенту.
             Время жизни может быть указано в секундах или в формате времени, указанном
             в sshd_config(5).

     -X
             Разблокировать агент.

     -x
             Заблокируйте агент паролем.

ENVIRONMENT
     DISPLAY и SSH_ASKPASS
             Если ssh-add требуется фраза-пароль, она будет считывать фразу-пароль с
             текущего терминала, если она была запущена с терминала. Если ssh-add не имеет
             связанного с ним терминала, но установлены DISPLAY и SSH_ASKPASS, он выполнит
             программу, заданную SSH_ASKPASS (по умолчанию “ssh-askpass”), и откроет окно
             X11 для чтения парольной фразы. Это особенно полезно при вызове ssh-add из
             .xsession или связанного скрипта. (Обратите внимание, что на некоторых
             машинах может потребоваться перенаправить ввод с /dev/null, чтобы сделать
             эту работу.)

     SSH_AUTH_SOCK
             Определяет путь к сокету UNIX-домена, используемому для связи с агентом.

FILES
     ~/.ssh/identity
             Содержит протокол аутентификации RSA версии 1 пользователя.

     ~/.ssh/id_dsa
             Содержит протокол аутентификации DSA версии 2 пользователя.

     ~/.ssh/id_ecdsa
             Содержит протокол аутентификации ECDSA версии 2 пользователя.

     ~/.ssh/id_ed25519
             Содержит протокол аутентификации Ed25519 версии 2 удостоверения
             личности пользователя.

     ~/.ssh/id_rsa
             Содержит протокол аутентификации RSA версии 2 пользователя.

     Идентификационные файлы не должны быть доступны для чтения никому, кроме
     пользователя. Обратите внимание, что ssh-add игнорирует файлы идентификации,
     если они доступны другим.

EXIT STATUS
     Состояние выхода равно 0 в случае успеха, 1, если указанная команда не
     выполнена, и 2, если ssh-add не может связаться с агентом аутентификации.

SEE ALSO
     ssh(1), ssh-agent(1), ssh-askpass(1), ssh-keygen(1), sshd(8)

AUTHORS
     OpenSSH is a derivative of the original and free ssh 1.2.12 release by
     Tatu Ylonen.  Aaron Campbell, Bob Beck, Markus Friedl, Niels Provos, Theo
     de Raadt and Dug Song removed many bugs, re-added newer features and cre‐
     ated OpenSSH.  Markus Friedl contributed the support for SSH protocol
     versions 1.5 and 2.0.

BSD                             March 30, 2015                             BSD
